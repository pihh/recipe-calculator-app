{"version":3,"sources":["./src/app/pages/ingredients/ingredients.page.html","./src/app/pages/ingredients/ingredients-routing.module.ts","./src/app/pages/ingredients/ingredients.module.ts","./src/app/pages/ingredients/ingredients.page.scss","./src/app/pages/ingredients/ingredients.page.ts"],"names":[],"mappings":"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","file":"pages-ingredients-ingredients-module-es2015.js","sourcesContent":["export default \"<ion-header #header translucent=\\\"true\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title> </ion-title>\\n\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-menu-button menu=\\\"home-menu\\\"></ion-menu-button>\\n\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [scrollEvents]=\\\"true\\\" (ionScroll)=\\\"logScroll($event)\\\" (ionScrollStart)=\\\"scrollStart(header)\\\">\\n  <ion-header collapse=\\\"condense\\\" translucent=\\\"true\\\" class=\\\"ion-no-border\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Ingredients</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-toolbar>\\n    <ion-searchbar [(ngModel)]=\\\"search\\\" (ionChange)=\\\"onInput($event)\\\"></ion-searchbar>\\n  </ion-toolbar>\\n\\n  <div class=\\\"ingredients-container\\\">\\n    <div *ngFor=\\\"let ingredient of items;  let index = index\\\" class=\\\"ingredient-container\\\">\\n      <app-card-ingredient [ingredient]=\\\"ingredient\\\" [odd]=\\\" 0 === index % 2\\\" [even]=\\\" 1 === index % 2\\\">\\n      </app-card-ingredient>\\n    </div>\\n  </div>\\n  <app-breathe-bottom></app-breathe-bottom>\\n  <ion-infinite-scroll threshold=\\\"50px\\\" (ionInfinite)=\\\"loadMore($event)\\\" loadingSpinner=\\\"bubbles\\\">\\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\\n  </ion-infinite-scroll>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IngredientsPage } from './ingredients.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IngredientsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IngredientsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IngredientsPageRoutingModule } from './ingredients-routing.module';\n\nimport { IngredientsPage } from './ingredients.page';\nimport { ComponentsModule } from './../../components/components.module';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IngredientsPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [IngredientsPage]\n})\nexport class IngredientsPageModule { }\n","export default \".ingredient-container {\\n  width: 50vw;\\n  display: inline-block;\\n}\\n\\n.ingredient-container ion-card {\\n  margin-bottom: 0px !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW5ncmVkaWVudHMvaW5ncmVkaWVudHMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtFQUNBLHFCQUFBO0FBQ0o7O0FBSUk7RUFDSSw2QkFBQTtBQURSIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvaW5ncmVkaWVudHMvaW5ncmVkaWVudHMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmluZ3JlZGllbnQtY29udGFpbmVye1xuICAgIHdpZHRoOiA1MHZ3O1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbn1cblxuXG4uaW5ncmVkaWVudC1jb250YWluZXIge1xuICAgIGlvbi1jYXJke1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwcHggIWltcG9ydGFudDsgXG4gICAgfVxufSJdfQ== */\";","import { Component, Input, OnInit, Renderer2 } from '@angular/core';\nimport { IngredientsModel } from \"src/app/models/ingredients.model\";\nimport { DataV2Service } from './../../services/data-v2.service';\nconst LIMIT = 10;\n\n\n@Component({\n  selector: 'app-ingredients',\n  templateUrl: './ingredients.page.html',\n  styleUrls: ['./ingredients.page.scss'],\n})\nexport class IngredientsPage implements OnInit {\n\n  search: string = \"\";\n  constructor(public renderer: Renderer2, public model: IngredientsModel, public dataService: DataV2Service) { }\n\n\n  ngOnInit() {\n    this.loadData();\n  }\n\n  @Input('header') header: any;\n  scrollStart(header) {\n    this.header = header.el\n  }\n\n  lastX: any;\n  logScroll(event) {\n    this.renderer.setStyle(this.header, 'transition', 'margin-top 400ms')\n    if (event.detail.scrollTop > Math.max(0, this.lastX)) {\n      // Hide\n      this.renderer.setStyle(this.header, 'margin-top', `-${this.header.clientHeight}px`)\n    } else {\n      // Show\n      this.renderer.setStyle(this.header, 'margin-top', '0px')\n    }\n\n    this.lastX = event.detail.scrollTop\n  }\n\n  page: number = 1;\n  items: any = [];\n\n  async loadData(infiniteScroll?) {\n    console.log(this.page)\n    let skip = this.page;\n\n    // const items = await this.model.get({ skip: skip, limit: LIMIT, search: this.search.trim() });\n    const items = await this.dataService.getIngredients({ skip: skip, limit: LIMIT, search: this.search.trim() });\n\n    if (skip === 1) {\n      this.items = items;\n    } else {\n      this.items = this.items.concat(items);\n    }\n\n    if (infiniteScroll) {\n      infiniteScroll.target.complete();\n      if (Array.isArray(items) && items.length < LIMIT) {\n        console.log({ infiniteScroll }, 'disable it')\n\n      }\n    }\n  }\n\n  async loadMore(infiniteScroll) {\n    this.page++;\n    await this.loadData(infiniteScroll);\n  }\n\n  onInput($event) {\n    this.page = 1;\n    this.loadData();\n  }\n}\n"],"sourceRoot":"webpack:///"}