{"version":3,"sources":["webpack:///src/app/pages/recipe/recipe.page.html","webpack:///src/app/pages/recipe/recipe-routing.module.ts","webpack:///src/app/pages/recipe/recipe.module.ts","webpack:///src/app/pages/recipe/recipe.page.scss","webpack:///src/app/pages/recipe/recipe.page.ts","webpack:///src/app/services/calculator.service.ts","webpack:///src/app/utils/calculator.ts","webpack:///src/app/utils/calculator/calculate-current-macros.ts","webpack:///src/app/utils/calculator/calculate-distances.ts","webpack:///src/app/utils/calculator/constants.ts","webpack:///src/app/utils/calculator/define-recipe-ingredients-category.ts","webpack:///src/app/utils/calculator/distance.ts","webpack:///src/app/utils/calculator/organize-recipe.ts","webpack:///src/app/utils/calculator/update-recipe-macros.ts"],"names":["routes","path","component","RecipePageRoutingModule","imports","forChild","exports","RecipePageModule","declarations","RecipePage","calculator","route","recipeModel","ingredientModel","dataService","events","recipe","thumbnail","name","description","ingredients","quantity","cookingTime","hour","min","steps","parseRecipeSteps","calculatedRecipe","kcals","proteins","carbs","fats","targetKcals","targetCarbs","targetProteins","targetFats","adjustMacros","queryParams","subscribe","params","JSON","parse","id","loadRecipe","destroy","publish","recipeId","_ingredients","getRecipes","_recipe","quantities","q","getIngredients","ingredient","push","originalRecipe","nutritionalValue","original","setNewMacros","newRecipe","full","$event","selector","template","CalculatorService","forEach","Number","isInteger","fat","Object","keys","key","Math","round","getNutritionData","extractRecipe","target","ratio","map","el","TARGET","C","P","F","updatedRecipe","_quantities","providedIn","i","macros","dists","calculateCurrentMacros","calculateDistances","MAX","RECIPE","averagePrice","calcCalories","defineRecipeIngredientsCategory","type","distance","macro","t","m","organizeRecipe","shouldDefineCategories","shouldMapPercentageOfType","updateRecipeMacros"],"mappings":"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","file":"pages-recipe-recipe-module-es5.js","sourcesContent":["export default \"<ion-header parallaxHeader [parallaxImage]=\\\"recipe.thumbnail\\\" [parallaxTitle]=\\\"recipe.name\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-back-button defaultHref=\\\"home\\\" [text]=\\\"''\\\" color=\\\"secondary\\\" (click)=\\\"backButtonClick($event)\\\">\\n      </ion-back-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"secondary\\\">\\n        <app-favorite [recipe]=\\\"recipe\\\"></app-favorite>\\n      </ion-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"ion-text-capitalize\\\">\\n      {{recipe.name}}\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div class=\\\"ion-padding bg-app\\\">\\n    <p class=\\\"font-small text-gray\\\">{{recipe.description}}</p>\\n    <app-recipe-time-dificulty [recipe]=\\\"recipe\\\"></app-recipe-time-dificulty>\\n  </div>\\n  <ion-header collapse=\\\"condense\\\" class=\\\"ion-no-border pull-top\\\">\\n    <ion-toolbar>\\n      <div class=\\\"h2 px\\\">Nutritional information</div>\\n    </ion-toolbar>\\n  </ion-header>\\n  <app-nutritional-value-display [hasHactionButton]=\\\"true\\\" [nutritionalValue]=\\\"calculatedRecipe\\\">\\n  </app-nutritional-value-display>\\n  <ion-header collapse=\\\"condense\\\" class=\\\"ion-no-border ion-header-title-min-height\\\">\\n    <ion-toolbar>\\n      <div class=\\\"h2 px\\\">Ingredients</div>\\n    </ion-toolbar>\\n  </ion-header>\\n  <div>\\n    <div class=\\\"container-ingredients\\\">\\n      <div *ngFor=\\\"let q of recipe.quantities\\\" class=\\\"card-ingredient \\\">\\n        <ion-card [ngStyle]=\\\"{'background': 'url( ' + q.ingredient.thumbnail + '  )'}\\\" class=\\\"shadow\\\"\\n          growImageToPageHeader [data]=\\\"q.ingredient\\\" [thumbnail]=\\\"q.ingredient.thumbnail\\\" type=\\\"ingredient\\\">\\n          <div class=\\\"card-ingredient-overlay\\\"></div>\\n          <ion-card-content>\\n            <div>\\n              <div class=\\\"ingredient-title ion-text-capitalize\\\">{{q.ingredient.name}}</div>\\n              <div>{{q.quantity}}g</div>\\n            </div>\\n          </ion-card-content>\\n        </ion-card>\\n      </div>\\n    </div>\\n\\n  </div>\\n\\n  <ion-header collapse=\\\"condense\\\" class=\\\"ion-no-border pull-top ml--3 ion-header-title-min-height\\\">\\n    <ion-toolbar>\\n      <div class=\\\"recipe-title-container\\\">\\n        <div class=\\\"h2 px\\\">Recipe</div>\\n\\n      </div>\\n    </ion-toolbar>\\n  </ion-header>\\n  <div class=\\\"\\\" *ngFor=\\\"let step of recipe.steps; let i = index\\\">\\n    <div class=\\\"h3 ion-padding pb-0\\\" *ngIf=\\\"step.type === 'group'\\\">\\n      <strong>\\n        {{step.name}}:\\n      </strong>\\n    </div>\\n\\n    <div class=\\\"prc-recipe-step-item ion-padding py-0 font-small text-gray pl-8\\\" [innerHTML]=\\\"step.text\\\" *ngIf=\\\"step.type === 'instruction'\\\"></div>\\n  </div>\\n\\n  <div class=\\\"drawer-distance\\\"></div>\\n</ion-content>\\n<app-drawer>\\n\\n\\n  <div class=\\\"h2 px\\\">Adjust your recipe</div>\\n  <ion-item no-lines>\\n    <ion-label position=\\\"floating\\\">Desired Calories</ion-label>\\n    <ion-input placeholder=\\\"400\\\" [(ngModel)]=\\\"targetKcals\\\"></ion-input>\\n  </ion-item>\\n  <ion-item no-lines>\\n\\n  </ion-item>\\n  <div class=\\\"h2 px\\\">Fit recipe macros?</div>\\n  <ion-item no-lines>\\n    <ion-label>Adjust recipe macros?</ion-label>\\n    <ion-checkbox slot=\\\"end\\\" [(ngModel)]=\\\"adjustMacros\\\"></ion-checkbox>\\n  </ion-item>\\n  <ion-item no-lines>\\n\\n    <ion-label>Percentage of carbs</ion-label>\\n    <ion-input class=\\\"ion-text-right\\\" placeholder=\\\"50\\\" [(ngModel)]=\\\"targetCarbs\\\"></ion-input>\\n\\n  </ion-item>\\n  <ion-item no-lines>\\n    <ion-label>Percentage of proteins</ion-label>\\n    <ion-input class=\\\"ion-text-right\\\" placeholder=\\\"30\\\" [(ngModel)]=\\\"targetProteins\\\"></ion-input>\\n  </ion-item>\\n  <ion-item no-lines>\\n    <ion-label>Percentage of fats</ion-label>\\n    <ion-input class=\\\"ion-text-right\\\" placeholder=\\\"20\\\" [(ngModel)]=\\\"targetFats\\\"></ion-input>\\n  </ion-item>\\n\\n  <ion-button expand=\\\"block\\\" class=\\\"px margin-top adjust-button\\\" (click)=\\\"adjustRecipe()\\\">Go</ion-button>\\n  <app-breathe-bottom></app-breathe-bottom>\\n</app-drawer>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { RecipePage } from './recipe.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: RecipePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class RecipePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { RecipePageRoutingModule } from './recipe-routing.module';\n\nimport { RecipePage } from './recipe.page';\nimport { ComponentsModule } from './../../components/components.module';\nimport { DirectivesModule } from './../../directives/directives.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RecipePageRoutingModule,\n    ComponentsModule,\n    DirectivesModule\n  ],\n  declarations: [RecipePage]\n})\nexport class RecipePageModule { }\n","export default \"/*\\n.background-image {\\n  width: 70vw !important;\\n  margin: 0 auto;\\n  right: calc( 50% - 35vw );\\n  top: 15vw;\\n  position: absolute;\\n}\\n*/\\n.background-cover {\\n  background: url(\\\"/assets/images/recipe-background.png\\\");\\n  background-position: bottom;\\n  height: 100vw !important;\\n  width: 100vw !important;\\n  top: 0 !important;\\n  left: 0 !important;\\n}\\n.background-overlay {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 100%;\\n}\\n.fixed-header {\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  --background: transparent;\\n}\\n.fixed-header ion-toolbar {\\n  --ion-toolbar-background-color: transparent;\\n  --ion-toolbar-text-color: white;\\n  --background: transparent;\\n  --color: white;\\n}\\n.pt-0 {\\n  padding-top: 0;\\n}\\n.pt-0 p {\\n  margin-top: 0;\\n}\\nion-back-button {\\n  --color: white !important;\\n}\\n.card-ingredient {\\n  width: 40vw;\\n  height: 45vw;\\n  display: inline-block;\\n}\\n.card-ingredient ion-card {\\n  height: 100%;\\n  margin-left: 6px;\\n  margin-right: 6px;\\n  background-size: cover !important;\\n  background-position: center;\\n}\\n.card-ingredient ion-card ion-card-content {\\n  height: 100%;\\n  display: flex;\\n  align-items: flex-end;\\n  padding-bottom: 8px;\\n  padding-left: 8px;\\n  color: black;\\n}\\n.ingredient-title {\\n  font-weight: 600;\\n}\\n.container-ingredients {\\n  overflow-x: scroll;\\n  overflow-y: hidden;\\n  white-space: nowrap;\\n  padding-top: 0;\\n  padding-bottom: 0;\\n  padding-right: 14px;\\n  padding-left: 14px;\\n}\\n.drawer-distance {\\n  height: 100px;\\n  width: 100vw;\\n}\\n.recipe-title-container {\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n}\\nion-item {\\n  --background: transparent;\\n}\\n.adjust-button {\\n  --background: url(/assets/images/recipe-background.png) bottom;\\n  --background-position: bottom;\\n}\\n.inline {\\n  display: inline;\\n}\\n.card-ingredient-overlay {\\n  text-align: center;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  height: 100%;\\n  width: 100%;\\n  /* Permalink - use to edit and share this gradient: https://colorzilla.com/gradient-editor/#ffffff+1,ffffff+79&0+0,0.26+80,0.59+100 */\\n  /* FF3.6-15 */\\n  /* Chrome10-25,Safari5.1-6 */\\n  background: linear-gradient(to bottom, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0) 1%, rgba(255, 255, 255, 0.5) 79%, rgba(255, 255, 255, 0.26) 80%, rgba(255, 255, 255, 0.59) 100%);\\n  /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\\n  filter: progid:DXImageTransform.Microsoft.gradient( startColorstr=\\\"#00ffffff\\\", endColorstr=\\\"#96ffffff\\\",GradientType=0 );\\n  /* IE6-9 */\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcmVjaXBlL3JlY2lwZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBQUE7QUFVQTtFQUNFLHVEQUFBO0VBQ0EsMkJBQUE7RUFDQSx3QkFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQUFGO0FBSUE7RUFDRSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7QUFERjtBQUdBO0VBQ0UsZUFBQTtFQUNBLE1BQUE7RUFDQSxRQUFBO0VBQ0EseUJBQUE7QUFBRjtBQUNFO0VBQ0UsMkNBQUE7RUFDQSwrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsY0FBQTtBQUNKO0FBR0E7RUFDRSxjQUFBO0FBQUY7QUFDRTtFQUNFLGFBQUE7QUFDSjtBQUdBO0VBQ0UseUJBQUE7QUFBRjtBQUdBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxxQkFBQTtBQUFGO0FBRUU7RUFDRSxZQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGlDQUFBO0VBQ0EsMkJBQUE7QUFBSjtBQUVJO0VBQ0UsWUFBQTtFQUNBLGFBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBQU47QUFLQTtFQUNFLGdCQUFBO0FBRkY7QUFJQTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxpQkFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7QUFERjtBQUlBO0VBQ0UsYUFBQTtFQUNBLFlBQUE7QUFERjtBQUlBO0VBQ0UsYUFBQTtFQUNBLDhCQUFBO0VBQ0EsbUJBQUE7QUFERjtBQUtBO0VBQ0UseUJBQUE7QUFGRjtBQUtBO0VBRUUsOERBQUE7RUFDQSw2QkFBQTtBQUhGO0FBTUE7RUFDRSxlQUFBO0FBSEY7QUFNQTtFQUNFLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBRUEscUlBQUE7RUFDMkssYUFBQTtFQUNELDRCQUFBO0VBQzFLLHlMQUFBO0VBQXdLLHFEQUFBO0VBQ3hLLHVIQUFBO0VBQXlILFVBQUE7QUFBM0giLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9yZWNpcGUvcmVjaXBlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4uYmFja2dyb3VuZC1pbWFnZSB7XG4gIHdpZHRoOiA3MHZ3ICFpbXBvcnRhbnQ7XG4gIG1hcmdpbjogMCBhdXRvO1xuICByaWdodDogY2FsYyggNTAlIC0gMzV2dyApO1xuICB0b3A6IDE1dnc7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbn1cbiovXG5cbi5iYWNrZ3JvdW5kLWNvdmVyIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiL2Fzc2V0cy9pbWFnZXMvcmVjaXBlLWJhY2tncm91bmQucG5nXCIpO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207XG4gIGhlaWdodDogMTAwdncgIWltcG9ydGFudDtcbiAgd2lkdGg6IDEwMHZ3ICFpbXBvcnRhbnQ7XG4gIHRvcDogMCAhaW1wb3J0YW50O1xuICBsZWZ0OiAwICFpbXBvcnRhbnQ7XG59XG5cblxuLmJhY2tncm91bmQtb3ZlcmxheXtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIGhlaWdodDogMTAwJTtcbiAgd2lkdGg6IDEwMCU7XG59XG4uZml4ZWQtaGVhZGVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBpb24tdG9vbGJhciB7XG4gICAgLS1pb24tdG9vbGJhci1iYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbiAgICAtLWlvbi10b29sYmFyLXRleHQtY29sb3I6IHdoaXRlO1xuICAgIC0tYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgLS1jb2xvcjogd2hpdGU7XG4gIH1cbn1cblxuLnB0LTAge1xuICBwYWRkaW5nLXRvcDogMDtcbiAgcCB7XG4gICAgbWFyZ2luLXRvcDogMDtcbiAgfVxufVxuXG5pb24tYmFjay1idXR0b24ge1xuICAtLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4uY2FyZC1pbmdyZWRpZW50IHtcbiAgd2lkdGg6IDQwdnc7XG4gIGhlaWdodDogNDV2dztcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuXG4gIGlvbi1jYXJkIHtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgbWFyZ2luLWxlZnQ6IDZweDtcbiAgICBtYXJnaW4tcmlnaHQ6IDZweDtcbiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyICFpbXBvcnRhbnQ7XG4gICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xuXG4gICAgaW9uLWNhcmQtY29udGVudCB7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgcGFkZGluZy1ib3R0b206IDhweDtcbiAgICAgIHBhZGRpbmctbGVmdDogOHB4O1xuICAgICAgY29sb3I6IGJsYWNrO1xuICAgIH1cbiAgfVxufVxuXG4uaW5ncmVkaWVudC10aXRsZXtcbiAgZm9udC13ZWlnaHQ6IDYwMDtcbn1cbi5jb250YWluZXItaW5ncmVkaWVudHMge1xuICBvdmVyZmxvdy14OiBzY3JvbGw7XG4gIG92ZXJmbG93LXk6IGhpZGRlbjtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgcGFkZGluZy10b3A6IDA7XG4gIHBhZGRpbmctYm90dG9tOiAwO1xuICBwYWRkaW5nLXJpZ2h0OiAxNHB4O1xuICBwYWRkaW5nLWxlZnQ6IDE0cHg7XG59XG5cbi5kcmF3ZXItZGlzdGFuY2Uge1xuICBoZWlnaHQ6IDEwMHB4O1xuICB3aWR0aDogMTAwdnc7XG59XG5cbi5yZWNpcGUtdGl0bGUtY29udGFpbmVyIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG5cbmlvbi1pdGVte1xuICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xufVxuXG4uYWRqdXN0LWJ1dHRvbntcbiAgLy8tLWJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCg5MGRlZywjOGMzNmE0IDAlLCAjNjY0YmRjIDEwMCUpXG4gIC0tYmFja2dyb3VuZDogdXJsKC9hc3NldHMvaW1hZ2VzL3JlY2lwZS1iYWNrZ3JvdW5kLnBuZykgYm90dG9tO1xuICAtLWJhY2tncm91bmQtcG9zaXRpb246IGJvdHRvbTtcbn1cblxuLmlubGluZXtcbiAgZGlzcGxheTogaW5saW5lXG59XG5cbi5jYXJkLWluZ3JlZGllbnQtb3ZlcmxheSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIHJpZ2h0OiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuXG4gIC8qIFBlcm1hbGluayAtIHVzZSB0byBlZGl0IGFuZCBzaGFyZSB0aGlzIGdyYWRpZW50OiBodHRwczovL2NvbG9yemlsbGEuY29tL2dyYWRpZW50LWVkaXRvci8jZmZmZmZmKzEsZmZmZmZmKzc5JjArMCwwLjI2KzgwLDAuNTkrMTAwICovXG4gIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiYSgyNTUsMjU1LDI1NSwwKSAwJSwgcmdiYSgyNTUsMjU1LDI1NSwwKSAxJSwgcmdiYSgyNTUsMjU1LDI1NSwwLjUpIDc5JSwgcmdiYSgyNTUsMjU1LDI1NSwwLjI2KSA4MCUsIHJnYmEoMjU1LDI1NSwyNTUsMC41OSkgMTAwJSk7IC8qIEZGMy42LTE1ICovXG4gIGJhY2tncm91bmQ6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgcmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDApIDElLHJnYmEoMjU1LDI1NSwyNTUsMC41KSA3OSUscmdiYSgyNTUsMjU1LDI1NSwwLjI2KSA4MCUscmdiYSgyNTUsMjU1LDI1NSwwLjU5KSAxMDAlKTsgLyogQ2hyb21lMTAtMjUsU2FmYXJpNS4xLTYgKi9cbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgcmdiYSgyNTUsMjU1LDI1NSwwKSAwJSxyZ2JhKDI1NSwyNTUsMjU1LDApIDElLHJnYmEoMjU1LDI1NSwyNTUsMC41KSA3OSUscmdiYSgyNTUsMjU1LDI1NSwwLjI2KSA4MCUscmdiYSgyNTUsMjU1LDI1NSwwLjU5KSAxMDAlKTsgLyogVzNDLCBJRTEwKywgRkYxNissIENocm9tZTI2KywgT3BlcmExMissIFNhZmFyaTcrICovXG4gIGZpbHRlcjogcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmdyYWRpZW50KCBzdGFydENvbG9yc3RyPScjMDBmZmZmZmYnLCBlbmRDb2xvcnN0cj0nIzk2ZmZmZmZmJyxHcmFkaWVudFR5cGU9MCApOyAvKiBJRTYtOSAqL1xufSJdfQ== */\";","import { Component, OnInit, Input, OnDestroy } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { CalculatorService } from '../../services/calculator.service';\nimport { RecipesModel } from './../../models/recipes.model';\nimport { IngredientsModel } from './../../models/ingredients.model';\nimport { EventsService } from 'src/app/services/events.service';\nimport { onBackButtonClick } from 'src/app/utils/parallax-header';\nimport { DataV2Service } from './../../services/data-v2.service';\nimport { v1 } from '../../utils/data';\n\n@Component({\n  selector: 'app-recipe',\n  templateUrl: './recipe.page.html',\n  styleUrls: ['./recipe.page.scss'],\n})\n\nexport class RecipePage implements OnInit {\n  recipe: any = {\n    thumbnail: '/assets/images/dish-1.png',\n    name: \"Chinese Dumplings\",\n    description: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat\",\n    ingredients: [\n      { name: \"ingredient 1\", thumbnail: \"/assets/images/category-1.png\", quantity: \"100\" },\n      { name: \"ingredient 2\", thumbnail: \"/assets/images/category-2.png\", quantity: \"100\" },\n      { name: \"ingredient 3\", thumbnail: \"/assets/images/category-2.png\", quantity: \"100\" },\n    ],\n    cookingTime: {\n      hour: 1,\n      min: 20\n    }, steps: v1.parseRecipeSteps([\n      \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat\", \"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.\"\n    ])\n  }\n\n  calculatedRecipe: any = {\n    kcals: 0,\n    proteins: 0,\n    carbs: 0,\n    fats: 0,\n    ingredients: []\n  }\n\n  targetKcals: number = 500;\n  targetCarbs: number = 50;\n  targetProteins: number = 30;\n  targetFats: number = 20;\n  adjustMacros: boolean = false;\n\n  constructor(\n    public calculator: CalculatorService,\n    public route: ActivatedRoute,\n    public recipeModel: RecipesModel,\n    public ingredientModel: IngredientsModel,\n    public dataService: DataV2Service,\n    public events: EventsService) {\n\n    this.route.queryParams.subscribe((params: any) => {\n\n      const recipe: any = JSON.parse(params.recipe)\n\n      this.recipe.id = recipe.id;\n      this.recipe.thumbnail = recipe.thumbnail;\n      this.recipe.description = recipe.description;\n      this.recipe.name = recipe.name;\n      this.recipe.steps = recipe.steps;\n\n      this.loadRecipe();\n    });\n  }\n\n  ngOnInit() {\n    this.events.subscribe('ON_BACK_BUTTON_CLICKED', onBackButtonClick);\n  }\n\n  ngOnDestroy() {\n    this.events.destroy('ON_BACK_BUTTON_CLICKED');\n  }\n\n  ionViewDidEnter() {\n    this.events.publish('ON_PAGE_DID_ENTER');\n  }\n\n  async loadRecipe() {\n    const recipeId = this.recipe.id;\n    // const _data:any = await this.dataService.getRecipes({id:this.recipe.id})\n    const _ingredients = [];\n    const _recipe: any = await this.dataService.getRecipes({ id: this.recipe.id })\n    for (let q of _recipe.quantities) {\n      q.ingredient = await this.dataService.getIngredients({ id: q.id });\n      _ingredients.push(q.ingredient);\n    }\n\n    this.recipe = _recipe;\n    this.recipe.ingredients = _ingredients;\n\n    // const data: any = await this.recipeModel.find(recipeId)\n    // for (let q of data.quantities) {\n    //   q.ingredient = await this.ingredientModel.find(q.ingredient);\n    //   this.recipe.ingredients.push(q.ingredient);\n    //\n    // }\n    // this.recipe.quantities = data.quantities;\n    // this.recipe.steps = v1.parseRecipeSteps(this.recipe.steps);\n    // console.log({ recipe: this.recipe, _recipe: _recipe })\n    this.originalRecipe();\n  }\n\n  public setNewMacros(ingredients = [], nutritionalValue) {\n    this.calculatedRecipe.kcals = nutritionalValue.kcals;\n    this.calculatedRecipe.carbs = nutritionalValue.carbs;\n    this.calculatedRecipe.proteins = nutritionalValue.proteins;\n    this.calculatedRecipe.fats = nutritionalValue.fats;\n    this.calculatedRecipe.ingredients = ingredients;\n  }\n\n  originalRecipe() {\n    const { ingredients, nutritionalValue } = this.calculator.original(\n      this.recipe\n    );\n    this.setNewMacros(ingredients, nutritionalValue);\n\n\n  }\n\n\n  adjustRecipe() {\n    let newRecipe = this.calculator.full(\n      this.recipe,\n      this.targetKcals,\n      this.targetCarbs,\n      this.targetProteins,\n      this.targetFats\n    );\n\n    let { ingredients, nutritionalValue } = this.calculator.kcals(\n      newRecipe,\n      this.targetKcals\n    );\n\n    this.setNewMacros(ingredients, nutritionalValue);\n\n    this.events.publish('drawer:close');\n  }\n  backButtonClick($event) {\n    onBackButtonClick();\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { calculator } from '../utils/calculator';\n\n@Injectable({\n  providedIn: \"root\"\n})\nexport class CalculatorService {\n  constructor() { }\n\n  public getNutritionData(quantities = [], _ingredients = []) {\n    const ingredients = [];\n    let nutritionalValue = {\n      kcals: 0,\n      carbs: 0,\n      proteins: 0,\n      fats: 0\n    };\n\n    // bruteForcing because recipes are kind of small\n    quantities.forEach(q => {\n      const id = Number.isInteger(q.ingredient) ? q.ingredient : q.ingredient.id;\n\n      for (let ingredient of _ingredients) {\n        if (ingredient.id === id) {\n          ingredients.push({\n            ingredient: ingredient,\n            quantity: q.quantity\n          });\n\n          nutritionalValue.kcals += (ingredient.kcals / 100) * q.quantity;\n          nutritionalValue.carbs += (ingredient.carbs / 100) * q.quantity;\n          nutritionalValue.proteins += (ingredient.proteins / 100) * q.quantity;\n          nutritionalValue.fats +=\n            ((ingredient.fats || ingredient.fat || 0) / 100) * q.quantity;\n        }\n      }\n    });\n\n    Object.keys(nutritionalValue).forEach(key => {\n      nutritionalValue[key] = Math.round(nutritionalValue[key]);\n    });\n\n    return { ingredients, nutritionalValue };\n  }\n\n  public extractRecipe(recipe: any = {}) {\n    return this.getNutritionData(recipe.quantities, recipe.ingredients);\n  }\n\n  original(recipe: { ingredients: []; quantities: [] }) {\n    return this.extractRecipe(recipe);\n  }\n\n  kcals(recipe, target = 400) {\n    let { ingredients, nutritionalValue } = this.extractRecipe(recipe);\n    const ratio = target / nutritionalValue.kcals;\n\n    recipe.quantities = recipe.quantities.map(el => {\n      el.quantity = Math.round(el.quantity * ratio);\n      return el;\n    });\n\n    return this.extractRecipe(recipe);\n  }\n\n  full(recipe, target = 400, carbs = 50, proteins = 30, fats = 20) {\n    const TARGET = {\n      C: target * carbs / 100 / 4,\n      P: target * proteins / 100 / 4,\n      F: target * fats / 100 / 9,\n    }\n    const updatedRecipe = calculator(recipe, TARGET);\n\n    updatedRecipe.quantities = updatedRecipe._quantities;\n\n    // Should add some kind of validation\n    return updatedRecipe;\n  }\n\n  macros(kcals, carbs, proteins, fats) { }\n}\n","import { MAX, TARGET, RECIPE } from './calculator/constants';\nimport { organizeRecipe } from './calculator/organize-recipe';\nimport { calculateCurrentMacros } from './calculator/calculate-current-macros';\nimport { calculateDistances } from './calculator/calculate-distances';\nimport { updateRecipeMacros } from './calculator/update-recipe-macros';\n\nexport const calculator = function (recipe: any = RECIPE, target: any = TARGET, i: number = 0) {\n\n    recipe = organizeRecipe(recipe); // recipe._quantities.[type,ingredient,quantity]\n\n    if (i > MAX) return recipe;\n\n    const macros = calculateCurrentMacros(recipe);\n    const dists = calculateDistances(target, macros);\n\n\n    updateRecipeMacros(recipe, dists);\n\n    i++;\n    return calculator(recipe, target, i);\n}\n\n\n///////////////////////// JS VERSION :\n/*\nconst MAX = 10;\nconst TARGET = {\n    C: 125,\n    P: 75,\n    F: 22.2\n};\nconst RECIPE = {\n    quantities: [\n        {\n            ingredient: 17,\n            quantity: 150\n        },\n        {\n            ingredient: 16,\n            quantity: 70\n        },\n        {\n            ingredient: 15,\n            quantity: 15\n        },\n        {\n            ingredient: 6,\n            quantity: 20\n        }\n    ],\n    ingredients: [\n        {\n            id: 17,\n            name: \"Chicken breast \",\n            description: \"Skinless, raw\",\n            thumbnail: \"files/800px_COLOURBOX40324156.jpg\",\n            kcals: 133,\n            carbs: 0,\n            fats: 1,\n            proteins: 31,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 16,\n            name: \"Penne pasta\",\n            description: \"Penne pasta raw\",\n            thumbnail: \"files/penne-italian-raw-pasta-white-background-28099368.jpg\",\n            kcals: 366,\n            carbs: 75,\n            fats: 2,\n            proteins: 12,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 15,\n            name: \"Pesto\",\n            description: \"Pesto sauce ( Regular )\",\n            thumbnail:\n                \"files/homemade-basil-pesto-sauce-glass-jar-white-background-top-view-131117161.jpg\",\n            kcals: 409,\n            carbs: 10,\n            fats: 37,\n            proteins: 9,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 6,\n            name: \"sliced black olives\",\n            description: \"\",\n            thumbnail:\n                \"files/black-olive-round-slice-marinated-closeup-isolated-white-background-40824080.jpg\",\n            kcals: 199,\n            carbs: 7,\n            fats: 19,\n            proteins: 0,\n            averagePrice: 0,\n            calcCalories: true\n        }\n    ]\n};\n\n\n\nconst defineRecipeIngredientsCategory = function (recipe) {\n    recipe._quantities.map(quantity => {\n        const ingredient = quantity.ingredient;\n        const C = ingredient.carbs * 4;\n        const P = ingredient.proteins * 4;\n        const F = ingredient.fats * 9;\n\n        if (F > P && F > C) {\n            quantity.type = 'F';\n        } else if (P > C && P > F) {\n            quantity.type = 'P';\n        } else {\n            quantity.type = 'C'\n        }\n\n        return quantity;\n    });\n\n    return recipe;\n}\n\nconst organizeRecipe = function (recipe) {\n    let shouldDefineCategories = true;\n\n    const ingredients = recipe.ingredients;\n    // If not _quantities , set to quantities\n    recipe._quantities = recipe._quantities || recipe.quantities;\n    recipe._quantities = recipe._quantities.map(el => {\n\n        const id = el.ingredient;\n        const type = el.type;\n        for (let ingredient of ingredients) {\n            if (id === ingredient.id) {\n                el.ingredient = ingredient;\n                return el;\n            }\n        }\n        if (!type) shouldDefineCategories = true\n        return el;\n\n    });\n\n    if (shouldDefineCategories) recipe = defineRecipeIngredientsCategory(recipe);\n\n    return recipe;\n}\n\nconst calculateCurrentMacros = function (recipe) {\n    let macros = {\n        C: 0, P: 0, F: 0\n    };\n\n    recipe._quantities = recipe._quantities || [];\n\n    recipe._quantities.forEach(ingredient => {\n        macros.C += ingredient.ingredient.carbs * ingredient.quantity / 100;\n        macros.P += ingredient.ingredient.proteins * ingredient.quantity / 100;\n        macros.F += ingredient.ingredient.fats * ingredient.quantity / 100;\n    })\n\n    return macros;\n}\nconst distance = function (macro, target, macros) {\n    const t = target[macro];\n    const m = macros[macro];\n    return t / m;\n}\n\nconst calculateDistances = function (target, macros) {\n    // Where 1 = 100%\n    const dists = {\n        C: 1,\n        P: 1,\n        F: 1\n    }\n    dists.C = distance('C', target, macros);\n    dists.P = distance('P', target, macros);\n    dists.F = distance('F', target, macros);\n\n    return dists;\n}\nconst updateRecipeMacros = function (recipe, dists) {\n\n    recipe._quantities.map(el => {\n        const type = el.type;\n        el.quantity = el.quantity * dists[type];\n        return el;\n    });\n\n    return recipe;\n}\n\nconst calculator = function (recipe= RECIPE, target = TARGET, i = 0) {\n    recipe = organizeRecipe(recipe); // recipe._quantities.[type,ingredient,quantity]\n\n    if (i > MAX) return recipe;\n\n    const macros = calculateCurrentMacros(recipe);\n    const dists = calculateDistances(target, macros);\n\n    updateRecipeMacros(recipe, dists);\n\n    i++;\n    return calculator(recipe, target, i);\n}\n\nfunction main(){\n return {macros: calculateCurrentMacros(calculator()), target: TARGET, updatedRecipe: calculator()._quantities }\n}\n\nmain();\n*/","export const calculateCurrentMacros = function (recipe: any) {\n    let macros = {\n        C: 0, P: 0, F: 0\n    };\n\n    recipe._quantities = recipe._quantities || [];\n\n    recipe._quantities.forEach(ingredient => {\n        macros.C += ingredient.ingredient.carbs * ingredient.quantity / 100;\n        macros.P += ingredient.ingredient.proteins * ingredient.quantity / 100;\n        macros.F += ingredient.ingredient.fats * ingredient.quantity / 100;\n    })\n\n    return macros;\n}","import { distance } from './distance';\n\nexport const calculateDistances = function (target: any, macros: any) {\n    // Where 1 = 100%\n    const dists = {\n        C: 1,\n        P: 1,\n        F: 1\n    }\n    dists.C = distance('C', target, macros);\n    dists.P = distance('P', target, macros);\n    dists.F = distance('F', target, macros);\n\n\n    return dists;\n}","export const MAX = 10;\nexport const TARGET = {\n    C: 125,\n    P: 75,\n    F: 22.2\n};\nexport const RECIPE = {\n    quantities: [\n        {\n            ingredient: 17,\n            quantity: 150\n        },\n        {\n            ingredient: 16,\n            quantity: 70\n        },\n        {\n            ingredient: 15,\n            quantity: 15\n        },\n        {\n            ingredient: 6,\n            quantity: 20\n        }\n    ],\n    ingredients: [\n        {\n            id: 17,\n            name: \"Chicken breast \",\n            description: \"Skinless, raw\",\n            thumbnail: \"files/800px_COLOURBOX40324156.jpg\",\n            kcals: 133,\n            carbs: 0,\n            fats: 1,\n            proteins: 31,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 16,\n            name: \"Penne pasta\",\n            description: \"Penne pasta raw\",\n            thumbnail: \"files/penne-italian-raw-pasta-white-background-28099368.jpg\",\n            kcals: 366,\n            carbs: 75,\n            fats: 2,\n            proteins: 12,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 15,\n            name: \"Pesto\",\n            description: \"Pesto sauce ( Regular )\",\n            thumbnail:\n                \"files/homemade-basil-pesto-sauce-glass-jar-white-background-top-view-131117161.jpg\",\n            kcals: 409,\n            carbs: 10,\n            fats: 37,\n            proteins: 9,\n            averagePrice: 0,\n            calcCalories: true\n        },\n        {\n            id: 6,\n            name: \"sliced black olives\",\n            description: \"\",\n            thumbnail:\n                \"files/black-olive-round-slice-marinated-closeup-isolated-white-background-40824080.jpg\",\n            kcals: 199,\n            carbs: 7,\n            fats: 19,\n            proteins: 0,\n            averagePrice: 0,\n            calcCalories: true\n        }\n    ]\n};","export const defineRecipeIngredientsCategory = function (recipe: any) {\n    recipe._quantities.map(quantity => {\n        const ingredient = quantity.ingredient;\n        const C = ingredient.carbs * 4;\n        const P = ingredient.proteins * 4;\n        const F = ingredient.fats * 9;\n\n        if (F > P && F > C) {\n            quantity.type = 'F';\n        } else if (P > C && P > F) {\n            quantity.type = 'P';\n        } else {\n            quantity.type = 'C'\n        }\n\n        return quantity;\n    });\n\n    return recipe;\n}","export const distance = function (macro: string, target: any, macros: any) {\n    const t = target[macro];\n    const m = macros[macro];\n    return t / m;\n}","\nimport { defineRecipeIngredientsCategory } from './define-recipe-ingredients-category';\n// import { definePercentageOfMacro } from './define-percentage-of-macro';\n\nexport const organizeRecipe = function (recipe: any) {\n    let shouldDefineCategories = true;\n    let shouldMapPercentageOfType = false;\n\n    const ingredients = recipe.ingredients;\n    if (!recipe._quantities) {\n        recipe._quantities = recipe.quantities;\n        shouldMapPercentageOfType = true;\n    }\n    // If not _quantities , set to quantities\n\n    recipe._quantities = recipe._quantities.map(el => {\n\n        const id = el.ingredient;\n        const type = el.type;\n        for (let ingredient of ingredients) {\n            if (id === ingredient.id) {\n                el.ingredient = ingredient;\n                return el;\n            }\n        }\n        if (!type) shouldDefineCategories = true\n        return el;\n\n    });\n\n    if (shouldDefineCategories) recipe = defineRecipeIngredientsCategory(recipe);\n    // if (shouldMapPercentageOfType) recipe = definePercentageOfMacro(recipe);\n\n    return recipe;\n}","export const updateRecipeMacros = function (recipe: any, dists: any) {\n\n    recipe._quantities.map(el => {\n        const type = el.type;\n        el.quantity = el.quantity * dists[type]\n        return el;\n    });\n\n    return recipe;\n}"]}