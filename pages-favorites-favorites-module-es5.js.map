{"version":3,"sources":["webpack:///src/app/pages/favorites/favorites.page.html","webpack:///src/app/pages/favorites/favorites-routing.module.ts","webpack:///src/app/pages/favorites/favorites.module.ts","webpack:///src/app/pages/favorites/favorites.page.scss","webpack:///src/app/pages/favorites/favorites.page.ts","webpack:///src/app/pipes/filter/filter.pipe.ts","webpack:///src/app/pipes/pipes.module.ts","webpack:///src/app/utils/revealing-header.ts"],"names":["routes","path","component","FavoritesPageRoutingModule","imports","forChild","exports","FavoritesPageModule","declarations","FavoritesPage","favorites","events","search","items","result","subscription","subscribe","table","data","console","log","_checkState","load","read","unsubscribe","header","event","selector","template","isString","obj","Object","prototype","toString","call","FilterPipe","trim","toLocaleLowerCase","length","filter","item","name","description","indexOf","PipesModule","scrollStart","instance","el","logScroll","lastX","renderer","setStyle","detail","scrollTop","Math","max","clientHeight"],"mappings":"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","file":"pages-favorites-favorites-module-es5.js","sourcesContent":["export default \"<ion-header #header translucent=\\\"true\\\" class=\\\"ion-no-border\\\">\\n  <ion-toolbar>\\n    <ion-title> </ion-title>\\n    <ion-buttons slot=\\\"secondary\\\">\\n      <ion-menu-button menu=\\\"home-menu\\\"></ion-menu-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [scrollEvents]=\\\"true\\\" (ionScroll)=\\\"logScroll($event)\\\" (ionScrollStart)=\\\"scrollStart(header)\\\">\\n  <ion-header collapse=\\\"condense\\\" translucent=\\\"true\\\" class=\\\"ion-no-border\\\">\\n    <ion-toolbar>\\n      <ion-title size=\\\"large\\\">Favorites</ion-title>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-toolbar>\\n    <ion-searchbar [(ngModel)]=\\\"search\\\" (ionChange)=\\\"onInput($event)\\\"></ion-searchbar>\\n  </ion-toolbar>\\n\\n\\n  <div *ngFor=\\\"let recipe of items | filter:search as result\\\">\\n    <app-card-recipe [recipe]=\\\"recipe\\\"></app-card-recipe>\\n  </div>\\n\\n\\n  <app-no-data *ngIf=\\\"(items | filter:search)?.length === 0\\\"></app-no-data>\\n  <app-breathe-bottom></app-breathe-bottom>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FavoritesPage } from './favorites.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FavoritesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FavoritesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FavoritesPageRoutingModule } from './favorites-routing.module';\n\nimport { FavoritesPage } from './favorites.page';\nimport { ComponentsModule } from './../../components/components.module';\nimport { PipesModule } from './../../pipes/pipes.module';\n@NgModule({\n  imports: [\n\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FavoritesPageRoutingModule,\n    ComponentsModule,\n    PipesModule\n  ],\n  declarations: [FavoritesPage]\n})\nexport class FavoritesPageModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2Zhdm9yaXRlcy9mYXZvcml0ZXMucGFnZS5zY3NzIn0= */\";","import { Component, OnInit, Input } from '@angular/core';\nimport { scrollStart, logScroll } from '../../utils/revealing-header';\nimport { FavoritesStorage } from './../../storage/favorites.storage';\nimport { EventsService } from 'src/app/services/events.service';\n\n@Component({\n  selector: 'app-favorites',\n  templateUrl: './favorites.page.html',\n  styleUrls: ['./favorites.page.scss'],\n})\nexport class FavoritesPage implements OnInit {\n\n  @Input('header') header: any;\n\n  subscription: any;\n  search: string = \"\";\n  items: any = [];\n  result: any = [];\n  constructor(public favorites: FavoritesStorage, events: EventsService) {\n    this.subscription = events.subscribe(`storage:${favorites.table}`, (data) => {\n      console.log('evennnnnnt')\n      this._checkState();\n    });\n  }\n\n  ngOnInit() {\n    this.load();\n  }\n\n  public async _checkState() {\n    const favorites: any = await this.favorites.read();\n    this.items = favorites;\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n\n  async load() {\n    const items = await this.favorites.read();\n    this.items = items;\n  }\n\n  scrollStart(header) {\n    scrollStart(this, header);\n  }\n\n  lastX: any;\n  logScroll(event) {\n    logScroll(this, event);\n  }\n\n  onInput(event: any) {\n\n  }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\nconst isString = function (obj) {\n  return (Object.prototype.toString.call(obj) === '[object String]');\n}\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(items: any[], search: string = \"\"): any {\n\n    search = search.trim().toLocaleLowerCase();\n    if (search.length === 0) return items;\n\n    return items.filter(item => {\n      const name = item.name || \"\";\n      const description = item.description || \"\";\n\n      if (name.toLocaleLowerCase().indexOf(search) > -1) return 1;\n      if (description.toLocaleLowerCase().indexOf(search) > -1) return 1;\n      return 0;\n    })\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FilterPipe } from './filter/filter.pipe';\n\n@NgModule({\n    imports: [\n        IonicModule,\n        CommonModule\n    ],\n    declarations: [\n        FilterPipe],\n    exports: [\n        FilterPipe]\n})\nexport class PipesModule { }\n","/**\n * \n * @param header - @Input at page\n * @param instance @Page\n */\nexport const scrollStart = function (instance: any, header: any) {\n    instance.header = header.el\n}\n\n/**\n * @requires Renderer2 Service \n * @requires instance.lastX:any\n * @requires instance.header:async\n * @param event - Scroll event \n * @param instance - @Page\n */\nexport const logScroll = function (instance: any, event: any) {\n    if (!instance.lastX) instance.lastX = 0;\n\n    instance.renderer.setStyle(instance.header, 'transition', 'margin-top 400ms')\n    if (event.detail.scrollTop > Math.max(0, instance.lastX)) {\n        // Hide\n        instance.renderer.setStyle(instance.header, 'margin-top', `-${instance.header.clientHeight}px`)\n    } else {\n        // Show\n        instance.renderer.setStyle(instance.header, 'margin-top', '0px')\n    }\n    instance.lastX = event.detail.scrollTop\n}"]}